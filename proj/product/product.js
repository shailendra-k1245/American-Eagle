var data = [
  {
    image:
      "https://aeo.imgix.net/img/app/product/6/626302-6075269.jpg?auto=format",

    name: "AE AIRFLEX+ SUPER SKINNY JEAN",

    price: 2999,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/6/621284-5980726.jpg?auto=format",

    name: "AE AIRFLEX+ ORIGINAL BOOTCUT JEAN",

    price: 3999,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/6/621283-5980715.jpg?auto=format",

    name: "AE AIRFLEX+ ORIGINAL BOOTCUT JEAN",

    price: 3999,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/6/620788-5972012.jpg?auto=format",

    name: "AE AIRFLEX+ SLIM JEAN",

    price: 2999,

    id: Math.random(),
  },

  {
    image:
      "https://aeo.imgix.net/img/app/product/6/619120-5944155.jpg?auto=format",

    name: "AE FLEX ORIGINAL BOOTCUT JEAN",

    price: 399,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/6/619119-5944142.jpg?auto=format",

    name: "AE FLEX SLIM STRAIGHT JEAN",

    price: 2999,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/6/619117-5944122.jpg?auto=format",

    name: "AE AIRFLEX+ SLIM STRAIGHT JEAN",

    price: 2499,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/6/619116-5944111.jpg?auto=format",

    name: "AE FLEX SKINNY JEAN",

    price: 2499,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/6/619115-5944100.jpg?auto=format",

    name: "AE AIRFLEX+ SLIM STRAIGHT JEAN",

    price: 2499,

    id: Math.random(),
  },

  {
    image:
      "https://aeo.imgix.net/img/app/product/6/619114-5944089.jpg?auto=format",

    name: "AE AIRFLEX+ SLIM JEAN",

    price: 2499,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/6/614148-5849790.jpg?auto=format",

    name: "AE AIRFLEX+ TEMP TECH ORIGINAL BOOTCUT JEAN",

    price: 4599,

    id: Math.random(),
  },

  {
    image:
      "https://aeo.imgix.net/img/app/product/6/614147-5849779.jpg?auto=format",

    name: "AE CLASSIC BOOTCUT JEAN",

    price: 3999,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/6/612964-5831671.jpg?auto=format",

    name: "AE AIRFLEX 360 PATCHED SLIM JEAN",

    price: 4999,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/6/612962-5831649.jpg?auto=format",

    name: "AE FLEX SLIM STRAIGHT JEAN",

    price: 3599,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/6/612649-5825880.jpg?auto=format",

    name: "AE AIRFLEX+ SKINNY JEAN",

    price: 2999,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/6/612648-5825869.jpg?auto=format",

    name: "AE AIRFLEX+ SKINNY JEAN",

    price: 3599,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/6/611437-5795967.jpg?auto=format",

    name: "AE AIRFLEX 360 MOVE-FREE RIPPED SKINNY JEAN",

    price: 4599,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/6/611436-6133267.jpg?auto=format",

    name: "AE AIRFLEX+ SLIM JEAN",

    price: 3999,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/6/611435-5795950.jpg?auto=format",

    name: "AE AIRFLEX+ SLIM JEAN",

    price: 3999,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/6/611434-5795939.jpg?auto=format",

    name: "AE AIRFLEX+ SLIM JEAN",

    price: 3999,

    id: Math.random(),
  },

  {
    image:
      "https://aeo.imgix.net/img/app/product/6/608408-6036392.jpg?auto=format",

    name: "AE AIRFLEX+ SLIM JEAN",

    price: 3999,

    id: Math.random(),
  },

  {
    image:
      "https://aeo.imgix.net/img/app/product/6/608407-6028106.jpg?auto=format",

    name: "AE AIRFLEX+ SLIM JEAN",

    price: 4599,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/6/608406-5956355.jpg?auto=format",

    name: "AE AIRFLEX+ SLIM JEAN",

    price: 4599,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/6/608405-5962910.jpg?auto=format",

    name: "AE AIRFLEX+ SLIM JEAN",

    price: 4599,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/6/608404-6036385.jpg?auto=format",

    name: "AE AIRFLEX+ SLIM JEAN",

    price: 4599,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/6/608403-5728982.jpg?auto=format",

    name: "AE AIRFLEX+ ORIGINAL STRAIGHT JEAN",

    price: 3999,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/6/608402-5728971.jpg?auto=format",

    name: "AE AIRFLEX+ ORIGINAL STRAIGHT JEAN",

    price: 4599,

    id: Math.random(),
  },

  {
    image:
      "https://aeo.imgix.net/img/app/product/6/608400-5728960.jpg?auto=format",

    name: "AE AIRFLEX+ SLIM STRAIGHT JEAN",

    price: 3999,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/6/607993-5723820.jpg?auto=format",

    name: "AE AIRFLEX+ ORIGINAL STRAIGHT JEAN",

    price: 3999,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/6/606003-5696072.jpg?auto=format",

    name: "AE COZY AIRFLEX+ SLIM STRAIGHT JEAN",

    price: 3999,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/6/605998-5696017.jpg?auto=format",

    name: "AE FLEX RELAXED STRAIGHT JEAN",

    price: 3999,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/6/605990-5695929.jpg?auto=format",

    name: "AE AIRFLEX+ ORIGINAL STRAIGHT JEAN",

    price: 3999,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/6/605976-5695770.jpg?auto=format",

    name: "AE AIRFLEX+ ATHLETIC STRAIGHT JEAN",

    price: 3599,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/6/605975-5695759.jpg?auto=format",

    name: "AE AIRFLEX+ ATHLETIC STRAIGHT JEAN",

    price: 3599,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/6/605947-5695451.jpg?auto=format",

    name: "AE NE(X)T LEVEL AIRFLEX SKINNY JEAN",

    price: 3999,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/5/598476-5573568.jpg?auto=format",

    name: "AE AIRFLEX+ ORIGINAL BOOTCUT JEAN",

    price: 3999,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/5/598451-5573381.jpg?auto=format",

    name: "AE AIRFLEX+ ORIGINAL STRAIGHT JEAN",

    price: 3999,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/5/592787-5459823.jpg?auto=format",

    name: "AE AIRFLEX+ RIPPED SLIM JEAN",

    price: 4599,

    id: Math.random(),
  },
  {
    image:
      "https://aeo.imgix.net/img/app/product/5/592785-5459801.jpg?auto=format",

    name: "AE AIRFLEX+ STACKED SKINNY JEAN",

    price: 2499,

    id: Math.random(),
  },
];

var temp = data;

let parent = document.getElementById("container");

function showProduct(item) {
  item.forEach(function (product) {
    let div = document.createElement("div");
    div.setAttribute("class", "item-container");

    let img = document.createElement("img");
    img.setAttribute("class", "item-img");
    img.src = product.image;

    let item_name = document.createElement("p");
    item_name.innerText = product.name;

    let price = document.createElement("p");
    price.innerText = product.price;

    let text_div = document.createElement("div");
    text_div.setAttribute("class", "text-container");

    let add_to_cart = document.createElement("button");
    add_to_cart.innerText = "Add to bag";

    add_to_cart.onclick = function () {
      addtocart(product);
    };

    let img_div = document.createElement("div");
    img_div.setAttribute("class", "img-container");
    img_div.append(img, add_to_cart);

    // let btn_div = document.createElement("div");

    // btn_div.append(add_to_cart)

    text_div.append(item_name, price);

    div.append(img_div, text_div);

    parent.append(div);
  });
}
showProduct(data);

function sorting() {
  let select = document.getElementById("sort");

  let value = select.options[select.selectedIndex].value;

  // alert(value);

  if (value === "price-low") {
    sortLH();
  } else if (value === "price-high") {
    sortHL();
  } else if (value === "a-z") {
    sortAZ();
  } else if (value === "z-a") {
    sortZA();
  } else if (value === "new-arrival") {
    sortNew();
  }
}

function sortLH() {
  let items = data.sort(function (a, b) {
    return Number(a.price) - Number(b.price);
    // console.log(Number(a.price))
  });
  parent.innerHTML = null;
  showProduct(items);
}

function sortHL() {
  let items = data.sort(function (a, b) {
    return Number(b.price) - Number(a.price);
    // console.log(Number(a.price))
  });
  parent.innerHTML = null;
  showProduct(items);
}

function sortAZ() {
  let items = data.sort(function (a, b) {
    return a.name.localeCompare(b.name);
  });
  parent.innerHTML = null;
  showProduct(items);
}

function sortZA() {
  let items = data.sort(function (a, b) {
    return b.name.localeCompare(a.name);
  });
  parent.innerHTML = null;
  showProduct(items);
}

function sortNew() {
  let items = data.sort(function (a, b) {
    return a.id - b.id;
    // console.log(a.id.getTime(), b.id.getTime())
  });
  parent.innerHTML = null;
  showProduct(items);
}

// addind data to localstorage

if (localStorage.getItem("cart") === null) {
  localStorage.setItem("cart", JSON.stringify([]));
}

function addtocart(p) {
  let products_cart = JSON.parse(localStorage.getItem("cart"));

  products_cart.push(p);

  localStorage.setItem("cart", JSON.stringify(products_cart));

  alert("Product successfully added to cart")
}
